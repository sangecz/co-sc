<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/co-sc.css" />
        <link rel="stylesheet" type="text/css" href="css/lib/jquery.mobile-1.4.5.css" />

        <script type="text/javascript" src="js/lib/jquery-2.1.1.js"></script>
        <script type="text/javascript" src="js/lib/jquery.mobile-1.4.5.js"></script>
        <script type="text/javascript" src="js/lib/jquery.validate.min.js"></script>
        <script type="text/javascript" src="js/lib/jquery.rest.js"></script>

        <title>CorrectiveScripts</title>

    </head>
    <body>
        <div class="app">
            <!-- This page will show first -->

            <!--------------------------------------------------------------------->
            <!-- UNLOCK APP -->
            <div data-role="page" id="enterpin" data-position="fixed">
                <div data-role="header" data-position="fixed" id="page_enterpin_header" >

                    <h1>Unlock app</h1>

                </div><!-- /header -->

                <div data-role="content">
                    <form action="" method="post" id="enterpin_form" novalidate="novalidate">

                        <div data-role="fieldcontain">
                            <label for="enterpin_pin">Passphrase: </label>
                            <input type="password" name="enterpin_pin" id="enterpin_pin" />
                            <label id="enterpin_pin_error" class="error" for="enterpin_pin"></label>
                        </div>

                        <div class="ui-grid-a ui-responsive">
                            <div class="ui-block-a">
                                <a href="" data-role="button" data-icon="delete" data-iconpos="right" id="forget_pin">Forgotten</a>
                            </div>
                            <div class="ui-block-b">
                                <a href="" data-role="button" data-icon="check" data-iconpos="right" id="submit_pin">Submit</a>
                            </div>
                        </div>

                    </form>
                </div>

            </div>


            <div data-role="page" id="index" data-position="fixed">

                <div data-role="header" data-position="fixed" id="index_header" >
                    <h1>Corrective Scripts</h1>
                    <a href="" class="ui-btn-right" data-icon="gear" data-role="button" data-iconpos="notext"
                       onclick=" settings.load(); "></a>
                </div><!-- /header -->

                <div data-role="content" class="ui-grid-b ui-responsive">
                    <div class="ui-block-a">
                         <button data-corners="true" class="indexBtn" data-iconpos="top" data-icon="info"
                            onclick="overview.openOverview()"
                                 >
                             Overview
                         </button>
                    </div>
                    <div class="ui-block-b">
                        <button class="indexBtn" data-iconpos="top" data-icon="bars"
                                onclick=" $.mobile.changePage($('#' + page.SCRIPTS), util.transOpt);">
                            Scripts
                        </button>
                    </div>
                    <div class="ui-block-c">
                        <button class="indexBtn" data-iconpos="top" data-icon="forward"
                                onclick=" $.mobile.changePage($('#' + page.PROTOCOLS), util.transOpt);">
                            Protocols
                        </button>
                    </div>
                </div><!-- /content -->

                <!-- POPUP -->
                <div data-role="popup" id="pin_dialog" data-overlay-theme="b" data-theme="a" style="max-width:400px;" class="ui-corner-all">
                    <div data-role="header" data-theme="a" class="ui-corner-top">
                        <h1>PIN</h1>
                    </div>
                    <div data-role="content" class="ui-corner-bottom ui-content">
                        <h3 class="ui-title">Enter your passphrase for secure storage.</h3>
                        <a href="#" data-role="button" data-inline="true" data-rel="back" data-theme="c">Cancel</a>
                        <a href="" data-role="button" data-inline="true" data-transition="flow"
                           data-theme="c" onclick="secStorage.setPin()">Save</a>
                    </div>
                </div>
            </div>

            <!--------------------------------------------------------------------->
            <!-- SCRIPTS -->
            <div data-role="page" id="page_scripts" data-position="fixed">

                <div data-role="header" data-position="fixed" id="page_scripts_header" >
                    <a href=""  data-icon="back" data-role="button" data-iconpos="notext"
                       onclick=" $.mobile.changePage($('#' + page.INDEX), util.backTransOpt);"></a>
                    <h1>Scripts</h1>
                    <a href="" data-icon="refresh" data-role="button" data-iconpos="notext"
                       onclick=" script.updateList(); "></a>

                </div><!-- /header -->

                <div data-role="content">
                    <ul data-role="listview" data-theme="g" id="scripts_list">
                    </ul>
                </div><!-- /content -->

                <div data-role="footer"  data-position="fixed">

                    <a href="" style="float: right; margin-right: 5px;"  data-icon="plus" data-role="button" data-iconpos="notext"
                       onclick=" script.add();"></a>

                </div>
            </div>
                <!-- SCRIPTS EDIT -->
                <div data-role="page" id="page_scripts_edit" data-position="fixed">

                    <div data-role="header" data-position="fixed" id="page_scripts_edit_header" >
                        <a href="" data-icon="back" data-role="button" data-iconpos="notext"
                           onclick=" $.mobile.changePage($('#' + page.SCRIPTS), util.backTransOpt);"></a>
                        <h1></h1>
                        <a href=""  data-icon="check" data-role="button" data-iconpos="notext"
                           onclick=" $('#script_edit_form').submit(); "></a>

                    </div><!-- /header -->

                    <div data-role="content">
                        <form action="" method="post" id="script_edit_form" novalidate="novalidate">

                            <div data-role="fieldcontain">
                                <label for="script_edit_name">Name: </label>
                                <input type="text" name="script_edit_name" id="script_edit_name" />
                                <label id="script_edit_name_error" class="error" for="script_edit_name"></label>
                            </div>
                            <div data-role="fieldcontain">
                                <label for="script_edit_desc">Description: </label>
                                <input type="text" name="script_edit_desc" value="" id="script_edit_desc"  />
                                <label hidden="hidden" id="script_edit_desc-error" class="error" for="script_edit_desc"></label>
                            </div>
                            <div data-role="fieldcontain">
                                <label for="script_edit_ip">IP address: </label>
                                <input type="text" name="script_edit_ip" value="" id="script_edit_ip"  />
                                <label hidden="hidden" id="script_edit_ip-error" class="error" for="script_edit_ip"></label>
                            </div>
                            <div data-role="fieldcontain">
                                <label for="script_edit_protocol">Protocol: </label>
                                <select name="script_edit_protocol" id="script_edit_protocol">
                                    <option>dummy</option>
                                    <option>dummy</option>
                                    <option>dummy</option>
                                </select>
                            </div>
                            <div data-role="fieldcontain">
                                <label for="script_edit_content">Script content: </label>
                                <textarea name="script_edit_content" id="script_edit_content" >#!/bin/bash</textarea>
                                <label hidden="hidden" id="script_edit_content-error" class="error" for="script_edit_content"></label>
                            </div>
                            <!--<input type="submit" />-->

                        </form>
                    </div><!-- /content -->

                    <!-- POPUP -->
                    <div data-role="popup" id="confirm_dialog" data-overlay-theme="b" data-theme="a" style="max-width:400px;" class="ui-corner-all">
                        <div data-role="header" data-theme="a" class="ui-corner-top">
                            <h1>Delete script?</h1>
                        </div>
                        <div data-role="content" class="ui-corner-bottom ui-content">
                            <h3 class="ui-title">Are you sure you want to delete this script?</h3>
                            <p>This action cannot be undone.</p>
                            <a href="#" data-role="button" data-inline="true" data-rel="back" data-theme="c">Cancel</a>
                            <a href="" data-role="button" data-inline="true" data-transition="flow"
                               data-theme="c" onclick="script.del();">Delete</a>
                        </div>
                    </div>

                    <div data-role="footer"  data-position="fixed" id="script_edit_footer">
                        <!--<a href=""  data-icon="edit" data-role="button" data-iconpos="notext"-->
                           <!--onclick=""></a>-->
                        <a href="#confirm_dialog" id="script_delete" style="margin-left: 5px;" data-icon="delete"
                           data-role="button" data-iconpos="notext" data-rel="popup" data-position-to="window"
                           data-inline="true" data-transition="pop" ></a>

                    </div>

                </div>

            <!--------------------------------------------------------------------->
            <!-- PROTOCOLS -->
            <div data-role="page" id="page_protocols" data-position="fixed">

                <div data-role="header" data-position="fixed" id="page_protocols_header" >
                    <a href=""  data-icon="back" data-role="button" data-iconpos="notext"
                       onclick="  $.mobile.changePage($('#' + page.INDEX), util.backTransOpt);"></a>
                    <h1>Protocols</h1>
                </div><!-- /header -->

                <div data-role="content">
                    <h3>page Content</h3>
                 </div><!-- /content -->

                <div data-role="footer"  data-position="fixed">
                    <h3>Footer Text</h3>
                </div>
            </div>
            <!--------------------------------------------------------------------->
            <!-- SETTINGS -->
            <div data-role="page" id="page_settings" data-position="fixed">

                <div data-role="header" data-position="fixed" id="page_settings_header" >
                    <a href=""  data-icon="back" data-iconpos="notext"
                       onclick=" $.mobile.changePage($('#' + page.INDEX), util.backTransOpt);"></a>
                    <h1>Settings</h1>
                       <!--onclick="$('settings_form').submit();"></a>-->
                </div><!-- /header -->

                <div data-role="content" class="ui-grid-solo ui-responsive">

                    <form method="post" id="settings_ws_form" novalidate="novalidate">

                        <h4>Web Service connection</h4>
                        <div data-role="fieldcontain">
                            <label for="ws_url">URL: </label>
                            <input type="text" name="ws_url" value="https://127.0.0.1/co-sc/v1/" id="ws_url" placeholder="Web service URL: http://" />
                            <label hidden="hidden" id="ws_url-error" class="error" for="ws_url"></label>
                        </div>

                        <div data-role="fieldcontain">
                            <fieldset data-role="controlgroup">
                                <legend>Register :</legend>
                                <input type="checkbox" name="ws_register" id="ws_register" data-mini="true" />
                                <label for="ws_register">Create new account.</label>
                            </fieldset>
                        </div>

                        <div data-role="fieldcontain" id="hidden_name" style="display: none;">
                            <label for="ws_name">Name: </label>
                            <input type="text" name="ws_name" value="" id="ws_name" placeholder="Name" />
                            <label hidden="hidden" id="ws_name-error" class="error" for="ws_name"></label>
                        </div>

                        <div data-role="fieldcontain">
                            <label for="ws_username">Email: </label>
                            <input type="text" name="ws_username" value="sange@sange.cz" id="ws_username" placeholder="Email" />
                            <label hidden="hidden" id="ws_username-error" class="error" for="ws_username"></label>
                        </div>
                        <div data-role="fieldcontain">
                            <label for="ws_password">Password: </label>
                            <input type="password" name="ws_password" value="" id="ws_password" placeholder="Password" />
                            <label hidden="hidden" id="ws_password-error" class="error" for="ws_password"></label>
                        </div>

                        <div data-role="fieldcontain">

                        </div>

                        <div class="ui-grid-a ui-responsive">
                            <div class="ui-block-a">
                                <a href="" data-role="button" data-icon="delete" data-iconpos="right" id="forget_pin"
                                        onclick="settings.ws.del()">Delete</a>
                            </div>
                            <div class="ui-block-b">
                                <a href="" data-role="button"  data-icon="check"
                                   data-iconpos="right" id="submit_settings_ws">Login & Save</a>
                            </div>
                        </div>
                    </form>
                </div>

                <div data-role="content" class="ui-grid-solo ui-responsive">
                    <form method="post" id="settings_overview_form" novalidate="novalidate">

                        <h4>Monitoring tool connection</h4>
                        <div data-role="fieldcontain">
                            <label for="overview_url">URL: </label>
                            <input type="text" name="overview_url" value="http://" id="overview_url" placeholder="Monitoring system URL: http://" />
                            <label hidden="hidden" id="overview_url-error" class="error" for="overview_url"></label>
                        </div>
                        <div data-role="fieldcontain">
                            <label for="overview_username">Username: </label>
                            <input type="text" name="overview_username" value="" id="overview_username" placeholder="Username" />
                            <label hidden="hidden" id="overview_username-error" class="error" for="overview_username"></label>
                        </div>
                        <div data-role="fieldcontain">
                            <label for="overview_password">Password: </label>
                            <input type="password" name="overview_password" value="" id="overview_password" placeholder="Password" />
                            <label hidden="hidden" id="overview_password-error" class="error" for="overview_password"></label>
                        </div>

                        <div data-role="fieldcontain">
                            <a href="" data-role="button" data-icon="check" data-iconpos="right" id="submit_settings_overview">Save</a>
                        </div>

                    </form>
                    <!-- POPUP -->

                </div><!-- /content -->



            </div>
        </div>
        <script type="text/javascript">
            function openNew(link) {
                navigator.app.loadUrl(link, { 'openExternal' : true });
            }
        </script>


        <!--<script type="text/javascript" src="js/lib/crypto/enc-base64-min.js"></script>-->
        <script type="text/javascript" src="js/lib/crypto/tripledes.js"></script>
        <script type="text/javascript" src="js/lib/crypto/core-min.js"></script>
        <script type="text/javascript" src="js/lib/crypto/sha512.js"></script>
        <script type="text/javascript" src="js/lib/ChildBrowser.js"></script>

        <script type="text/javascript" src="js/utils.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/connector.js"></script>
        <script type="text/javascript" src="js/SecStorage.js"></script>
        <script type="text/javascript" src="js/overview.js"></script>
        <script type="text/javascript" src="js/scripts.js"></script>
        <script type="text/javascript" src="js/settings.js"></script>

        <script type="text/javascript" src="js/protocols.js"></script>
        <script type="text/javascript" src="cordova.js"></script>

    </body>
</html>
